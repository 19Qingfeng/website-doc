# 回流与重绘,避免布局抖动

## 布局与绘制。

- 渲染树只包含网页需要的节点。

- 布局计算每个节点精确的位置和大小。 - "盒模型" (根据渲染树上每个节点的位置和大小进行渲染)

- 绘制是像素化每个节点的过程。

> 布局和绘制消耗非常高的。页面首次加载一定是要经过浏览器的生成渲染树，布局`layout`,绘制`paint`以及组合图层的`composite`。
> 之后在页面的使用过程中，用户的一些交互或者做动画都会改变视觉的效果都会触发这个流程。
> 避免回流和重绘的本质就是在某些特定的情况下尽量的减少布局和绘制。

::: tip
就比如样式的一些变化，布局关心的是位置和大小，元素的几何信息。如果样式并不涉及几何信息，比如并不是高度，offsetTop 等等位置大小信息的话。比如仅仅改变背景色或者阴影大小。那么并不会重新计算布局，因为布局没有变化。变化的和元素的几何信息无关,**那么并不会触发`layout`布局(浏览器跳过布局)，仅仅只会触发重绘`paint`。**
:::

## GPU加速，避免布局和重绘

实际上一些动画可以通过`GPU`加速，从而避免`layout`和`paint`从而直接进行`composite`复合过程达到避免回流和重绘，提高性能。

### 触发回流`reflow`的操作


