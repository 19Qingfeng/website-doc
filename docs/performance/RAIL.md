# RAIL测量标准

## 解析RAIL

RAIL性能量化测量标准,经常看到一些文章上讲做什么会带来什么并不知道究竟达到什么样子才会是优秀。而RAIL就是google提出的一个量化的指标。

拆分出来就是`Response Animation Idle Load`

+ `Response` 指的是对于用户而言当和网站进行交互时，比如点击按钮。网站给予用于即使响应的体验。

+ `Animation` 动画，动画维持在60FPS以上就会让用户感知到流畅。

+ `Idle` 足够的浏览器空闲时间。就比如当有些网站当输入或者进行一部分交互的时候。会体验特别卡，这大部分就是浏览器主线程特别的忙，没有足够空闲时间去处理用户的交互。

> performance chrome下调试工具可以查看main线程什么时间段在做什么。

+ `Load` 加载时间。用户打开网站第一次体验就是加载的时间，所以load时间是用户第一体验。

## 量化指标

+ 响应：处理事件在`50ms`内进行影响。

> google调查用户100ms内的响应用户是感知不到的，至于为什么要要求50ms。是因为100ms表示的是用户开始交互以及得到反馈需要100ms。而真正做输入处理的事件浏览器还需要解析输入等等的处理保险起见需要预留50ms。

+ 动画：每10ms产生一帧。

> 人眼每秒60帧的动画是感知到非常流畅的，所以基本保证每16ms一帧就可以达到非常流畅的动画。至于这里为什么是10ms一帧是因为浏览器需要绘制动画的时间差不多也就是6ms所以尽量保证产生动画在10ms之内。

+ 空闲：尽可能的增加空闲。

> 50ms空闲的预留时间。否则没有时间处理空闲那么就会用户感知到临时交互的卡。但是并不代表浏览器加载完什么都不做。

+ 加载：5s内完成加载并且可以让用户进行交互。

> 其实这个指标非常高了，因为5s不仅仅是加载，而且会有请求资源渲染资源等等完成才会达成可以让用户交互。而且还会有一部分用户使用手机或者网络不佳也会影响。

::: tip
这四个指标其实就是最终的目标，就是往这个方向发展。如果做到了这个那么就是非常的牛逼了。
:::