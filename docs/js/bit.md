# js 中的位运算

## JavaScript 位运算符

| 运算符 | 名称         | 描述                                                     |
| :----- | :----------- | :------------------------------------------------------- |
| &      | AND          | 如果两位都是 1 则设置每位为 1                            |
| \|     | OR           | 如果两位之一为 1 则设置每位为 1                          |
| ^      | XOR          | 如果两位只有一位为 1 则设置每位为 1                      |
| ~      | NOT          | 反转所有位                                               |
| <<     | 零填充左位移 | 通过从右推入零向左位移，并使最左边的位脱落。             |
| >>     | 有符号右位移 | 通过从左推入最左位的拷贝来向右位移，并使最右边的位脱落。 |
| >>>    | 零填充右位移 | 通过从左推入零来向右位移，并使最右边的位脱落。           |

### 实例

| 操作    | 结果 | 等同于       | 结果 |
| :------ | :--- | :----------- | :--- |
| 5 & 1   | 1    | 0101 & 0001  | 0001 |
| 5 \| 1  | 5    | 0101 \| 0001 | 0101 |
| 5 ^ 1   | 4    | 0101 ^ 0001  | 0100 |
| ~ 5     | 10   | ~0101        | 1010 |
| 5 << 1  | 10   | 0101 << 1    | 1010 |
| 5 >> 1  | 2    | 0101 >> 1    | 0010 |
| 5 >>> 1 | 2    | 0101 >>> 1   | 0010 |

> 位运算符用于 32 位的数字上, 任何的数字操作都将转为 32 位, 运算结果再转化为 JS 数字

## 应用场景

### `|` 应用场景

::: tip
`[float]| 0`操作，对于小数的处理，

其实也就相当于当`[float]`为正的小数时，向下取整`Math.floor`。

比如`9.16 | 0`输出`9`。

其实也就相当于当`[float]`为负的小数时，向上取整`Math.ceil`。

比如`-9.16 | 0`输出`-9`。

:::

这个运算符可以用来对数值进行取证, 用起来应该比 Math.floor、Math.ceil、parseInt 方便, 实例如下：

```js
console.log(10.5 | 0);
console.log(10.3 | 0);
console.log(10.8 | 0);
1;
2;
3;
```

以上的输出结果都是 10

注意三点：

- 无论正数还是负数, parseInt 只是删除数字的小数部分（也就是取整）
- 对正数, 其运行的结果和 Math.floor 是一样的（向下取整）
- 对负数, 其运行结果和 Math.ceil 是一样的（向上取证）
  下面来个例子：

```js
console.log(8.35 | 0); //输出: 8
console.log(Math.floor(8.35)); //输出: 8
console.log(Math.ceil(8.35)); //输出: 9
console.log(parseInt(8.35)); //输出: 8

console.log(-8.35 | 0); //输出: -8
console.log(Math.floor(-8.35)); //输出: -9
console.log(Math.ceil(-8.35)); //输出: -8
console.log(parseInt(-8.35)); //输出: -8
```
