<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue å®ä¾‹æŒ‚è½½å®ç° | Nx-website-component</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Vue component for nx-website.">
    
    <link rel="preload" href="/docs/assets/css/0.styles.849a47af.css" as="style"><link rel="preload" href="/docs/assets/js/app.8eaa02e7.js" as="script"><link rel="preload" href="/docs/assets/js/2.f0b9337b.js" as="script"><link rel="preload" href="/docs/assets/js/52.1c346d8b.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.82a9ca1c.js"><link rel="prefetch" href="/docs/assets/js/11.64f4d657.js"><link rel="prefetch" href="/docs/assets/js/12.a9db469e.js"><link rel="prefetch" href="/docs/assets/js/13.2d378a4f.js"><link rel="prefetch" href="/docs/assets/js/14.d19066c7.js"><link rel="prefetch" href="/docs/assets/js/15.50b9985f.js"><link rel="prefetch" href="/docs/assets/js/16.4581841e.js"><link rel="prefetch" href="/docs/assets/js/17.eecb3e98.js"><link rel="prefetch" href="/docs/assets/js/18.95585732.js"><link rel="prefetch" href="/docs/assets/js/19.a3eb4245.js"><link rel="prefetch" href="/docs/assets/js/20.f9ba6eb8.js"><link rel="prefetch" href="/docs/assets/js/21.1c87ef69.js"><link rel="prefetch" href="/docs/assets/js/22.29f43ad0.js"><link rel="prefetch" href="/docs/assets/js/23.498c2523.js"><link rel="prefetch" href="/docs/assets/js/24.550321ec.js"><link rel="prefetch" href="/docs/assets/js/25.a484af43.js"><link rel="prefetch" href="/docs/assets/js/26.5fcf5f07.js"><link rel="prefetch" href="/docs/assets/js/27.dca5967b.js"><link rel="prefetch" href="/docs/assets/js/28.2174299d.js"><link rel="prefetch" href="/docs/assets/js/29.a999e448.js"><link rel="prefetch" href="/docs/assets/js/3.a1179464.js"><link rel="prefetch" href="/docs/assets/js/30.99863014.js"><link rel="prefetch" href="/docs/assets/js/31.77e917f7.js"><link rel="prefetch" href="/docs/assets/js/32.18b86649.js"><link rel="prefetch" href="/docs/assets/js/33.4eb995c3.js"><link rel="prefetch" href="/docs/assets/js/34.ac797cd8.js"><link rel="prefetch" href="/docs/assets/js/35.51fd691b.js"><link rel="prefetch" href="/docs/assets/js/36.e76d0fd8.js"><link rel="prefetch" href="/docs/assets/js/37.b5128fbb.js"><link rel="prefetch" href="/docs/assets/js/38.038a4e0b.js"><link rel="prefetch" href="/docs/assets/js/39.201e4f9c.js"><link rel="prefetch" href="/docs/assets/js/4.d6949b90.js"><link rel="prefetch" href="/docs/assets/js/40.4f391ed3.js"><link rel="prefetch" href="/docs/assets/js/41.b64ab7d1.js"><link rel="prefetch" href="/docs/assets/js/42.5dd27890.js"><link rel="prefetch" href="/docs/assets/js/43.6e6b2162.js"><link rel="prefetch" href="/docs/assets/js/44.ffb0a19d.js"><link rel="prefetch" href="/docs/assets/js/45.7eb2c4ae.js"><link rel="prefetch" href="/docs/assets/js/46.7f819700.js"><link rel="prefetch" href="/docs/assets/js/47.f7c7b29e.js"><link rel="prefetch" href="/docs/assets/js/48.76e4ced8.js"><link rel="prefetch" href="/docs/assets/js/49.deb6447f.js"><link rel="prefetch" href="/docs/assets/js/5.eefddad5.js"><link rel="prefetch" href="/docs/assets/js/50.dd0c0d9e.js"><link rel="prefetch" href="/docs/assets/js/51.00e1466b.js"><link rel="prefetch" href="/docs/assets/js/53.91227fb8.js"><link rel="prefetch" href="/docs/assets/js/54.35506bed.js"><link rel="prefetch" href="/docs/assets/js/55.2c09bfbe.js"><link rel="prefetch" href="/docs/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/docs/assets/js/7.c6a96efb.js"><link rel="prefetch" href="/docs/assets/js/8.28ac80aa.js"><link rel="prefetch" href="/docs/assets/js/9.d3d926f1.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.849a47af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nx-website-component</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Install</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter1/" class="sidebar-link">Introduction</a></li><li><a href="/docs/chapter1/dev.html" class="sidebar-link">å¼€å‘</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxBg èƒŒæ™¯å›¾</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter2/Props&amp;Event.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter2/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li><li><a href="/docs/chapter2/problem.html" class="sidebar-link">é—ç•™é—®é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxCard å¡ç‰‡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter3/entry.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter3/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxFooter åº•éƒ¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter4/entry.html" class="sidebar-link">ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxArt æ–‡ç« </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter5/entry.html" class="sidebar-link">ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxSlide å¹»ç¯ç‰‡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter6/entry.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter6/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li><li><a href="/docs/chapter6/feat.html" class="sidebar-link">feat</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç‰ˆæœ¬è®°å½•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter7/entry.html" class="sidebar-link">ä¿®å¤è®°å½•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/object.html" class="sidebar-link">Object å±æ€§å®šä¹‰</a></li><li><a href="/docs/js/offset.html" class="sidebar-link">offset ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/client.html" class="sidebar-link">client ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/scroll.html" class="sidebar-link">scroll ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/page.html" class="sidebar-link">page ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/bodyOffset.html" class="sidebar-link">è®¡ç®—å…ƒç´ è·ç¦» body çš„åç§»é‡</a></li><li><a href="/docs/js/getSize.html" class="sidebar-link">è·å–éšè—å…ƒç´ å®½é«˜å€¼</a></li><li><a href="/docs/js/getBoundingClientRect.html" class="sidebar-link">Element.getBoundingClientRect</a></li><li><a href="/docs/js/draggable.html" class="sidebar-link">draggable HTML æ‹–æ‹½</a></li><li><a href="/docs/js/getImgSize.html" class="sidebar-link">è·å–å›¾ç‰‡åŸå§‹å°ºå¯¸</a></li><li><a href="/docs/js/node.html" class="sidebar-link">NodeType å…ƒç´ èŠ‚ç‚¹å±æ€§</a></li><li><a href="/docs/js/fade.html" class="sidebar-link">JS å®ç° JQ-fadeIn,fadeout</a></li><li><a href="/docs/js/location.html" class="sidebar-link">URL-location å¯¹è±¡</a></li><li><a href="/docs/js/decode.html" class="sidebar-link">URL è§£ç å’Œç¼–ç </a></li><li><a href="/docs/js/urlSearchParams.html" class="sidebar-link">urlSearchParams</a></li><li><a href="/docs/js/getComputedStyle.html" class="sidebar-link">Window.getComputedStyle</a></li><li><a href="/docs/js/videoToImg.html" class="sidebar-link">ä¸Šä¼ è§†é¢‘ç”Ÿæˆç¼©ç•¥å›¾ï¼Œä¸Šä¼ å›¾ç‰‡ç”Ÿæˆç¼©ç•¥å›¾</a></li><li><a href="/docs/js/cloneDeep.html" class="sidebar-link">ç®€æ˜“æ·±æ‹·è´+å¯¹è±¡åˆå¹¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>çº¢å®ä¹¦</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/redbook/function.html" class="sidebar-link">Function ç±»å‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>web socket</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/socket/pubNabVue.html" class="sidebar-link">pubnub-vue</a></li><li><a href="/docs/socket/hello.html" class="sidebar-link">Demo</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>nodejs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/nodejs/zip.html" class="sidebar-link">å‹ç¼©æ–‡ä»¶</a></li><li><a href="/docs/nodejs/unZip.html" class="sidebar-link">è§£å‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>koa</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/koa/core.html" class="sidebar-link">koa å®ç°koaç®€å•æ ¸å¿ƒåŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vue/defineReactive.html" class="sidebar-link">å“åº”å¼å¯¹è±¡</a></li><li><a href="/docs/vue/$nextTick.html" class="sidebar-link">$nextTick</a></li><li><a href="/docs/vue-source/chapter1.html" class="sidebar-link">New Vue å‘ç”Ÿäº†ä»€ä¹ˆ</a></li><li><a href="/docs/vue-source/chapter2.html" aria-current="page" class="active sidebar-link">Vue å®ä¾‹æŒ‚è½½å®ç°</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-å®ä¾‹æŒ‚è½½å®ç°"><a href="#vue-å®ä¾‹æŒ‚è½½å®ç°" class="header-anchor">#</a> Vue å®ä¾‹æŒ‚è½½å®ç°</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>runtime-only å°±æ˜¯åªæœ‰è¿è¡Œæ—¶ï¼Œç¼–è¯‘æ˜¯å‘ç”Ÿåœ¨ webpack ç¼–è¯‘æ—¶å€™ é€šè¿‡ vue-loader ç¼–è¯‘ç”Ÿæˆç»„ä»¶ç›¸å…³ JS å’Œ CSSï¼Œå¹¶æŠŠ template éƒ¨åˆ†è½¬æ¢æˆ render å‡½æ•°æ·»åŠ åˆ°ç»„ä»¶å¯¹è±¡çš„å±æ€§ä¸­ã€‚(æ‰“åŒ…æ—¶å·²ç»ç¼–è¯‘å¥½ï¼Œè¿è¡Œæ—¶ä¸å­˜åœ¨ template å…¨æ˜¯ render å‡½æ•°ã€‚)</p> <p>runtime-compiled æ˜¯åœ¨è¿è¡Œæ—¶ç¼–è¯‘ï¼Œç»„ä»¶çš„æ¨¡æ¿ç›´æ¥åœ¨ç»„ä»¶å¯¹è±¡ template å±æ€§ä¸­ç¼–å†™ï¼Œç„¶ååœ¨è¿è¡Œæ—¶é˜¶æ®µç¼–è¯‘ç”Ÿæˆ render å‡½æ•°ã€‚(è¿è¡Œæ—¶å¯ä»¥è¯†åˆ« templateï¼Œè¿›è¡Œè¿è¡Œæ—¶ç¼–è¯‘æˆ render å‡½æ•°æ¸²æŸ“)</p></div> <p>å¯ä»¥çœ‹åˆ°é¦–æ¬¡ Vue å®šä¹‰$mount æ–¹æ³•çš„ä»£ç å¦‚ä¸‹:</p> <blockquote><p>platform/web/runtime/index.js</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// public mount method</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
  <span class="token parameter">el<span class="token operator">?</span><span class="token operator">:</span> string <span class="token operator">|</span> Element<span class="token punctuation">,</span>
  hydrating<span class="token operator">?</span><span class="token operator">:</span> boolean</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Component <span class="token punctuation">{</span>
  el <span class="token operator">=</span> el <span class="token operator">&amp;&amp;</span> inBrowser <span class="token operator">?</span> <span class="token function">query</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> el<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¹‹ååœ¨æ¯ä¸ªç‰ˆæœ¬ä¸‹è·å¾—ä¹‹å‰å®šä¹‰çš„ mount æ–¹æ³•ï¼Œç„¶åé‡æ–°å®šä¹‰$mountã€‚</p> <p>ä¹‹æ‰€ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸ºä¸åŒçš„ç‰ˆæœ¬ä¸‹ï¼Œæ¯”å¦‚ runtime-only ä»…éœ€è¦ runtime ä¸­é¦–æ¬¡å®šä¹‰çš„æ–¹æ³•å†…å®¹å°±è¶³å¤Ÿäº†ã€‚è€Œ runtime-compile ç‰ˆæœ¬éœ€è¦åœ¨ä¹‹å‰å®šä¹‰çš„ mount æ–¹æ³•ä¸Šåšæ‰©å±•--é¦–å…ˆå°† options ä¸­çš„ template ç¼–è¯‘æˆ render å‡½æ•°å†ç„¶åè°ƒç”¨ä¹‹å‰å®šä¹‰å¥½çš„$mount æ–¹æ³•å°† render å‡½æ•°è¿›è¡ŒæŒ‚è½½ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>æŠ½ç¦»å…¬ç”¨é€»è¾‘å®šä¹‰å…¬ç”¨æ–¹æ³•ï¼Œç‰¹æ®Šæ¨¡å—å–å‡ºå…¬ç”¨æ–¹æ³•ã€‚ç„¶åé‡æ–°å®šä¹‰å¹¶ä¸”åœ¨æ–°å®šä¹‰çš„æ–¹æ³•ä¸­è°ƒç”¨ä¿å­˜çš„å…¬ç”¨é€»è¾‘è¿›è¡Œè°ƒç”¨ã€‚</p></div> <details class="custom-block details"><summary>runtime-compiled ç‰ˆ`$mount`</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
  <span class="token parameter">el<span class="token operator">?</span><span class="token operator">:</span> string <span class="token operator">|</span> Element<span class="token punctuation">,</span>
  hydrating<span class="token operator">?</span><span class="token operator">:</span> boolean</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Component <span class="token punctuation">{</span>
  el <span class="token operator">=</span> el <span class="token operator">&amp;&amp;</span> <span class="token function">query</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* istanbul ignore if */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>el <span class="token operator">===</span> document<span class="token punctuation">.</span>body <span class="token operator">||</span> el <span class="token operator">===</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">&amp;&amp;</span>
      <span class="token function">warn</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Do not mount Vue to &lt;html&gt; or &lt;body&gt; - mount to normal elements instead.</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">;</span>
  <span class="token comment">// resolve template/el and convert to render function</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>render<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> template <span class="token operator">=</span> options<span class="token punctuation">.</span>template<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>template<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> template <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>template<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;#&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          template <span class="token operator">=</span> <span class="token function">idToTemplate</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">/* istanbul ignore if */</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>template<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">warn</span><span class="token punctuation">(</span>
              <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Template element not found or is empty: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>options<span class="token punctuation">.</span>template<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              <span class="token keyword">this</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>template<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        template <span class="token operator">=</span> template<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;invalid template option:&quot;</span> <span class="token operator">+</span> template<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      template <span class="token operator">=</span> <span class="token function">getOuterHTML</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>template<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">/* istanbul ignore if */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>performance <span class="token operator">&amp;&amp;</span> mark<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;compile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">const</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> staticRenderFns <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">compileToFunctions</span><span class="token punctuation">(</span>
        template<span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          outputSourceRange<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
          shouldDecodeNewlines<span class="token punctuation">,</span>
          shouldDecodeNewlinesForHref<span class="token punctuation">,</span>
          delimiters<span class="token operator">:</span> options<span class="token punctuation">.</span>delimiters<span class="token punctuation">,</span>
          comments<span class="token operator">:</span> options<span class="token punctuation">.</span>comments<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      options<span class="token punctuation">.</span>render <span class="token operator">=</span> render<span class="token punctuation">;</span>
      options<span class="token punctuation">.</span>staticRenderFns <span class="token operator">=</span> staticRenderFns<span class="token punctuation">;</span>

      <span class="token comment">/* istanbul ignore if */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>performance <span class="token operator">&amp;&amp;</span> mark<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;compile end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">measure</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">vue </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> compile</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">&quot;compile&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;compile end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">mount</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> el<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <p>é¦–å…ˆ<code>$mount</code>æ˜¯åœ¨<code>_init</code>å‡½æ•°æœ€åè¿›è¡Œçš„è°ƒç”¨</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>hydrating å‚æ•°ä¸ºæœåŠ¡ç«¯ SSR æ¸²æŸ“ï¼Œå¯ä»¥å…ˆå¿½ç•¥å®ƒã€‚</p></blockquote> <p>ä¼ å…¥äº† options ä¸­çš„ elï¼Œé¦–å…ˆè¿™æ®µä»£ç æ‹¿åˆ° options ä¸­çš„ el ç„¶åä½¿ç”¨ query æ–¹æ³•ï¼Œquery å…¶å®ç‰¹åˆ«ç®€å•å°±æ˜¯è°ƒç”¨äº†<code>document.querySelect</code>è·å– el å…ƒç´ ï¼Œç„¶ååˆ¤æ–­ el æ˜¯å¦æ˜¯ body æˆ–è€… documentã€‚å¦‚æœæ˜¯é‚£ä¹ˆåˆ™æŠ¥é”™ã€‚å¹¶ä¸”è¿”å› this,ä¹Ÿå°±æ˜¯å½“å‰ vm(vue)å®ä¾‹ã€‚</p> <blockquote><p>ä¹‹æ‰€ä»¥ä¸èƒ½æŒ‚è½½åœ¨ body å’Œ html ä¸‹å› ä¸º vue æŒ‚è½½çš„å…ƒç´ æ˜¯ä¼šè¦†ç›–çš„ã€‚</p></blockquote> <p>ä¹‹ååˆ¤æ–­åˆå§‹åŒ– vue å®ä¾‹çš„æ—¶å€™æ˜¯å¦ä¼ å…¥äº† render å‡½æ•°ï¼Œæ¯”å¦‚ä½¿ç”¨ vue-cli3 ç”Ÿæˆçš„ main.js å°±ä½¿ç”¨äº† render å‡½æ•°ã€‚å½“ç„¶ä¹‹å‰çš„ä¾‹å­å¹¶æ²¡æœ‰ä½¿ç”¨ renderã€‚</p> <p>ä¹‹ååˆ¤æ–­æ˜¯å¦å­˜åœ¨ template å±æ€§(runtime-compile ç‰ˆæœ¬ä¼š,only å¹¶ä¸ä¼š)ã€‚å¦‚æœå†™äº† template å±æ€§ï¼Œé‚£ä¹ˆä»–ä¼šåˆ¤æ–­ template æ˜¯å¦æ˜¯ string</p> <ul><li>å¦‚æœæ˜¯ string å¹¶ä¸”æ˜¯#å¼€å¤´ã€‚é‚£ä¹ˆé¦–å…ˆä¼šè°ƒç”¨<code>idToTemplate(template)</code>å°† el è½¬åŒ–ä¸º Dom å¯¹è±¡ï¼Œå¹¶ä¸”è·å¾—å®ƒçš„ innerHTMLã€‚</li></ul> <ul><li><p>å¦‚æœæ˜¯ string é‚£ä¹ˆå°±ä¼šè°ƒç”¨ template çš„<code>nodeType</code>å±æ€§åˆ¤æ–­æ˜¯å¦æ˜¯ Dom èŠ‚ç‚¹ã€‚å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå–å‡ºä»–ä»¬ innerHTML èµ‹å€¼ç»™ Templateã€‚</p></li> <li><p>å¦‚æœ template æ˜¯ä¸€ä¸ª String å¹¶ä¸”éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚</p></li></ul> <blockquote><p>template ä¼ å…¥çš„é¦–å…ˆæ˜¯ string(å¦‚æœæ˜¯ stringï¼Œé‚£ä¹ˆè¦æ±‚æ˜¯ä¼ å…¥çš„å¯¹åº”å…ƒç´  IDï¼Œæ¯”å¦‚'#app')æˆ–è€… Dom å¯¹è±¡ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p></blockquote> <p>ä¹‹åå¦‚æœæ²¡æœ‰ä¼ å…¥ template é‚£ä¹ˆå°±ä¼šå»å¯»æ‰¾ elï¼Œå¦‚æœå­˜åœ¨ el é‚£ä¹ˆå°±ä¼šè·å¾— el çš„ outerHTML èµ‹å€¼ç»™ templateã€‚</p> <p>æ€»ä¹‹ï¼Œ$mount æ­¥éª¤</p> <ol><li>é¦–å…ˆåˆæ³•æ€§æ ¡éªŒã€‚options ä¸Šçš„ el å¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆåˆ¤æ–­ el æ˜¯å¦æ˜¯ body æˆ–è€… documentã€‚å¦‚æœæ˜¯é‚£ä¹ˆå°±ä¼šæç¤ºé”™è¯¯å¹¶ä¸”è¿”å› vmã€‚</li> <li>æ‹¿åˆ° optionsï¼Œåˆ¤æ–­æ˜¯å¦ä¼ å…¥ renderï¼Œä¼ å…¥ render ä½¿ç”¨ renderã€‚æ²¡æœ‰ render å‘ä¸‹å¯»æ‰¾ template å±æ€§ï¼Œtemplate å¿…é¡»æ˜¯ stringï¼Œä¼ å…¥ template æ‹¿åˆ°å¯¹åº”å…ƒç´ èŠ‚ç‚¹çš„çš„å†…å®¹ã€‚æ²¡æœ‰ä¼ å…¥ template çš„è¯ä½¿ç”¨ el å±æ€§æ‹¿å‡ºå¯¹åº” el çš„å†…å®¹èµ‹å€¼ç»™ templateã€‚</li> <li>æ€»ä¹‹å¦‚æœä¼ å…¥ render é‚£ä¹ˆå°±ä½¿ç”¨ renderï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥ render é¦–å…ˆæ˜¯ä¼šé€šè¿‡ template æˆ–è€… el å»å°è¯•è·å–åˆ°æŒ‚è½½ DOM çš„å†…å®¹ã€‚</li></ol> <blockquote><p>æ³¨æ„çš„æ˜¯ innerHTML å’Œ outerHTML è·å¾—çš„éƒ½æ˜¯ DOM å¯¹è±¡çš„å†…å®¹ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª string ç±»å‹ã€‚template æœ€çº¢ä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p> <details class="custom-block details"><summary>utils</summary></details></blockquote> <ol start="4"><li>å¦‚æœæ‹¿åˆ°äº† template é‚£ä¹ˆå°±ä¼šè°ƒç”¨<code>compileToFunctions</code>ç”Ÿæˆå¯¹åº”çš„ render å‡½æ•°ä»¥åŠå¯¹åº”çš„é™æ€ render å‡½æ•°ã€‚ç¼–è¯‘è¿™å—ä¹‹ååœ¨çœ‹ã€‚ä¹Ÿå°±æ˜¯ vue æœ€ç»ˆåªè®¤ render å‡½æ•°ã€‚</li></ol> <p><strong>å½“ä¸å­˜åœ¨ render æ—¶ï¼Œå­˜åœ¨ template å†…å®¹ä¸” template åˆæ³•ï¼Œé‚£ä¹ˆå°±ä¼šå– template çš„ innerHTML å­—ç¬¦ä¸²èµ‹å€¼ç»™ template å¦åˆ™å°±ä¼šå– el çš„ outerHTML èµ‹å€¼ç»™ templateã€‚</strong></p> <p><strong>æ‰€ä»¥å½“ä¼ å…¥ template é€‰é¡¹å’Œ el é€‰é¡¹æ˜¯åŒä¸€ä¸ªå…ƒç´ çš„æ—¶å€™å·®è·å°±ä¼šä½“ç°å‡ºæ¥ï¼Œtemplate é€‰é¡¹æ˜¯ä¼šå– innerHTML æ‰€ä»¥è¦æ±‚éœ€è¦ ğŸˆ¶ï¸ ä¸€ä¸ªæ ¹å…ƒç´ åŒ…è£¹è€Œå– el çš„æ—¶å€™å› ä¸ºä½¿ç”¨äº† outerHTML æ‰€ä»¥ä¸€å®šæ˜¯ä¼šè¢«ä¸€ä¸ªæ ¹å…ƒç´ è¿›è¡ŒåŒ…è£¹çš„ã€‚</strong></p> <p><strong>è¦ä¹ˆæ‹¿åˆ° render å‡½æ•°çš„å†…å®¹æ¸²æŸ“åˆ°ï¼Œè¦ä¹ˆæ‹¿åˆ° template å…ƒç´ çš„ innerHTML å†…å®¹æ¸²æŸ“åˆ° el ä¸Šï¼Œè¦ä¹ˆç›´æ¥æ‹¿åˆ° el æœ¬èº«çš„ outerHTML è¿›è¡Œæ›¿æ¢ã€‚</strong></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>template æ¸²æŸ“æ—¶ï¼Œåªèƒ½å­˜åœ¨ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œæ— è®ºæ˜¯.vue æ–‡ä»¶è¿˜æ˜¯ options ä¸­çš„ template éƒ½å†…éƒ¨éƒ½å¿…é¡»åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ åŒ…è£¹ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå–çš„æ—¶å€™éœ€è¦å– template çš„ innerHTMLã€‚</p> <p>å¦‚æœ template å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¼šå– template ä¸‹çš„ innerHTML è¿›è¡Œæ¨¡ç‰ˆç¼–è¯‘æ¸²æŸ“ï¼Œå¦‚æœä¸å­˜åœ¨æ²¡æœ‰åŠæ³•äº†æ‰€ä»¥æ‰ä¼šå°è¯•ç´¢å– el çš„ outerHTML ä½œä¸º template(ä¹Ÿæ˜¯åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ )ã€‚æœ€ç»ˆæ˜¯ä¼šå°†æ•´ä¸ª el è¿›è¡Œæ›¿æ¢çš„ã€‚</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> idToTemplate <span class="token operator">=</span> <span class="token function">cached</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> el <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> el <span class="token operator">&amp;&amp;</span> el<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token string">&quot;1&quot;</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span> <span class="token comment">// è¿”å›1 å…ƒç´ èŠ‚ç‚¹</span>

<span class="token comment">// outerHTMLçš„polyfill</span>
<span class="token keyword">function</span> <span class="token function">getOuterHTML</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> el<span class="token punctuation">.</span>outerHTML<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> container<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¹‹å<strong>è°ƒç”¨äº†ä¹‹å‰ç¼“å­˜çš„å…¬ç”¨çš„$mount æ–¹æ³•</strong>è¿›è¡ŒæŒ‚è½½ã€‚<code>mount.call(this, el, hydrating);</code>ä¼ å…¥äº† el</p> <p>ï¼ï¼ï¼ï¼
5 åˆ† 13ï¼
ä¸€ä¸ªé—®é¢˜å¾…è§£å†³ï¼štemplate å’Œ el æŒ‚è½½ä¸ºä»€ä¹ˆä¸€ä¸ªæ˜¯ innerHTML ä¸€ä¸ªæ˜¯ outerHTML</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/vue-source/chapter1.html" class="prev">
        New Vue å‘ç”Ÿäº†ä»€ä¹ˆ
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.8eaa02e7.js" defer></script><script src="/docs/assets/js/2.f0b9337b.js" defer></script><script src="/docs/assets/js/52.1c346d8b.js" defer></script>
  </body>
</html>
