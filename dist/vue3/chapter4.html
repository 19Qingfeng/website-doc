<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuex | Nx-website-component</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Vue component for nx-website.">
    
    <link rel="preload" href="/docs/assets/css/0.styles.849a47af.css" as="style"><link rel="preload" href="/docs/assets/js/app.5ecceec0.js" as="script"><link rel="preload" href="/docs/assets/js/2.f0b9337b.js" as="script"><link rel="preload" href="/docs/assets/js/103.a0f463ea.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.21ea9ad3.js"><link rel="prefetch" href="/docs/assets/js/100.85a0b7c4.js"><link rel="prefetch" href="/docs/assets/js/101.70e188b6.js"><link rel="prefetch" href="/docs/assets/js/102.ca3eeff8.js"><link rel="prefetch" href="/docs/assets/js/104.18300a5a.js"><link rel="prefetch" href="/docs/assets/js/105.9297aa1b.js"><link rel="prefetch" href="/docs/assets/js/106.bd969808.js"><link rel="prefetch" href="/docs/assets/js/107.f0e3f599.js"><link rel="prefetch" href="/docs/assets/js/108.a8c56fca.js"><link rel="prefetch" href="/docs/assets/js/109.a5a313ce.js"><link rel="prefetch" href="/docs/assets/js/11.0b78034f.js"><link rel="prefetch" href="/docs/assets/js/110.45ac9d01.js"><link rel="prefetch" href="/docs/assets/js/12.3648302e.js"><link rel="prefetch" href="/docs/assets/js/13.3f8f380c.js"><link rel="prefetch" href="/docs/assets/js/14.abb5878e.js"><link rel="prefetch" href="/docs/assets/js/15.682137d0.js"><link rel="prefetch" href="/docs/assets/js/16.bd6f11f1.js"><link rel="prefetch" href="/docs/assets/js/17.b3ebb8fb.js"><link rel="prefetch" href="/docs/assets/js/18.1b940f76.js"><link rel="prefetch" href="/docs/assets/js/19.0262fc58.js"><link rel="prefetch" href="/docs/assets/js/20.17e07cc9.js"><link rel="prefetch" href="/docs/assets/js/21.265c4c51.js"><link rel="prefetch" href="/docs/assets/js/22.3cb57d56.js"><link rel="prefetch" href="/docs/assets/js/23.70bc4901.js"><link rel="prefetch" href="/docs/assets/js/24.6a60dda8.js"><link rel="prefetch" href="/docs/assets/js/25.03611944.js"><link rel="prefetch" href="/docs/assets/js/26.b2a19e56.js"><link rel="prefetch" href="/docs/assets/js/27.cdc87a5a.js"><link rel="prefetch" href="/docs/assets/js/28.4a0b9b9c.js"><link rel="prefetch" href="/docs/assets/js/29.cc81f5d5.js"><link rel="prefetch" href="/docs/assets/js/3.486f8778.js"><link rel="prefetch" href="/docs/assets/js/30.4432db23.js"><link rel="prefetch" href="/docs/assets/js/31.1141b702.js"><link rel="prefetch" href="/docs/assets/js/32.c9a54e63.js"><link rel="prefetch" href="/docs/assets/js/33.da66dea1.js"><link rel="prefetch" href="/docs/assets/js/34.d0243e65.js"><link rel="prefetch" href="/docs/assets/js/35.be913bd0.js"><link rel="prefetch" href="/docs/assets/js/36.20fd62a7.js"><link rel="prefetch" href="/docs/assets/js/37.bf69bce0.js"><link rel="prefetch" href="/docs/assets/js/38.55fdf2ad.js"><link rel="prefetch" href="/docs/assets/js/39.b99c2986.js"><link rel="prefetch" href="/docs/assets/js/4.d6949b90.js"><link rel="prefetch" href="/docs/assets/js/40.ef9e956e.js"><link rel="prefetch" href="/docs/assets/js/41.e8b09fc5.js"><link rel="prefetch" href="/docs/assets/js/42.b89e42c8.js"><link rel="prefetch" href="/docs/assets/js/43.55a1de75.js"><link rel="prefetch" href="/docs/assets/js/44.513f1385.js"><link rel="prefetch" href="/docs/assets/js/45.beab6034.js"><link rel="prefetch" href="/docs/assets/js/46.111069f3.js"><link rel="prefetch" href="/docs/assets/js/47.146fa340.js"><link rel="prefetch" href="/docs/assets/js/48.9779d98c.js"><link rel="prefetch" href="/docs/assets/js/49.efc25ab0.js"><link rel="prefetch" href="/docs/assets/js/5.eefddad5.js"><link rel="prefetch" href="/docs/assets/js/50.20ad1395.js"><link rel="prefetch" href="/docs/assets/js/51.b9c7fb2c.js"><link rel="prefetch" href="/docs/assets/js/52.1701b0ba.js"><link rel="prefetch" href="/docs/assets/js/53.bed24ebd.js"><link rel="prefetch" href="/docs/assets/js/54.efff80f8.js"><link rel="prefetch" href="/docs/assets/js/55.56042408.js"><link rel="prefetch" href="/docs/assets/js/56.2f418f1b.js"><link rel="prefetch" href="/docs/assets/js/57.c2263b0c.js"><link rel="prefetch" href="/docs/assets/js/58.0983eb41.js"><link rel="prefetch" href="/docs/assets/js/59.3ebe0f5b.js"><link rel="prefetch" href="/docs/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/docs/assets/js/60.ba61b225.js"><link rel="prefetch" href="/docs/assets/js/61.da11dd3e.js"><link rel="prefetch" href="/docs/assets/js/62.f48f04aa.js"><link rel="prefetch" href="/docs/assets/js/63.b7267e6b.js"><link rel="prefetch" href="/docs/assets/js/64.0085cc73.js"><link rel="prefetch" href="/docs/assets/js/65.3b1d833b.js"><link rel="prefetch" href="/docs/assets/js/66.b80d0f1e.js"><link rel="prefetch" href="/docs/assets/js/67.8a6d5e4b.js"><link rel="prefetch" href="/docs/assets/js/68.6927eb1a.js"><link rel="prefetch" href="/docs/assets/js/69.c0fe66d8.js"><link rel="prefetch" href="/docs/assets/js/7.4ecc2a62.js"><link rel="prefetch" href="/docs/assets/js/70.6b939894.js"><link rel="prefetch" href="/docs/assets/js/71.fabc4109.js"><link rel="prefetch" href="/docs/assets/js/72.3345ad73.js"><link rel="prefetch" href="/docs/assets/js/73.51169ccc.js"><link rel="prefetch" href="/docs/assets/js/74.ea725713.js"><link rel="prefetch" href="/docs/assets/js/75.fd0fa538.js"><link rel="prefetch" href="/docs/assets/js/76.55915051.js"><link rel="prefetch" href="/docs/assets/js/77.94ea63d2.js"><link rel="prefetch" href="/docs/assets/js/78.28bdb19d.js"><link rel="prefetch" href="/docs/assets/js/79.a934dfb6.js"><link rel="prefetch" href="/docs/assets/js/8.a7519bef.js"><link rel="prefetch" href="/docs/assets/js/80.ebee5f20.js"><link rel="prefetch" href="/docs/assets/js/81.987b358a.js"><link rel="prefetch" href="/docs/assets/js/82.03648e3a.js"><link rel="prefetch" href="/docs/assets/js/83.1b0a6ae1.js"><link rel="prefetch" href="/docs/assets/js/84.9ccd39fd.js"><link rel="prefetch" href="/docs/assets/js/85.69622209.js"><link rel="prefetch" href="/docs/assets/js/86.e9871a15.js"><link rel="prefetch" href="/docs/assets/js/87.8aab526f.js"><link rel="prefetch" href="/docs/assets/js/88.5923b9eb.js"><link rel="prefetch" href="/docs/assets/js/89.4a80c7ca.js"><link rel="prefetch" href="/docs/assets/js/9.dfbb5b4d.js"><link rel="prefetch" href="/docs/assets/js/90.a12111a8.js"><link rel="prefetch" href="/docs/assets/js/91.379d486c.js"><link rel="prefetch" href="/docs/assets/js/92.485e6cea.js"><link rel="prefetch" href="/docs/assets/js/93.4b4a8a11.js"><link rel="prefetch" href="/docs/assets/js/94.36edf20d.js"><link rel="prefetch" href="/docs/assets/js/95.9bc474c7.js"><link rel="prefetch" href="/docs/assets/js/96.72706e5c.js"><link rel="prefetch" href="/docs/assets/js/97.19198987.js"><link rel="prefetch" href="/docs/assets/js/98.2323271d.js"><link rel="prefetch" href="/docs/assets/js/99.9cd0b40a.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.849a47af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Nx-website-component</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Install</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter1/" class="sidebar-link">Introduction</a></li><li><a href="/docs/chapter1/dev.html" class="sidebar-link">å¼€å‘</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxBg èƒŒæ™¯å›¾</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter2/Props&amp;Event.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter2/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li><li><a href="/docs/chapter2/problem.html" class="sidebar-link">é—ç•™é—®é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxCard å¡ç‰‡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter3/entry.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter3/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxFooter åº•éƒ¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter4/entry.html" class="sidebar-link">ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxArt æ–‡ç« </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter5/entry.html" class="sidebar-link">ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NxSlide å¹»ç¯ç‰‡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter6/entry.html" class="sidebar-link">ä½¿ç”¨</a></li><li><a href="/docs/chapter6/demo.html" class="sidebar-link">ä»£ç æ¼”ç¤º</a></li><li><a href="/docs/chapter6/feat.html" class="sidebar-link">feat</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç‰ˆæœ¬è®°å½•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/chapter7/entry.html" class="sidebar-link">ä¿®å¤è®°å½•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTTP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/http/diff.html" class="sidebar-link">http1å’Œhttp2çš„åŒºåˆ«</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/GPU.html" class="sidebar-link">GPU åŠ é€Ÿ</a></li><li><a href="/docs/css/backflow.html" class="sidebar-link">å›æµ/é‡å¡‘</a></li><li><a href="/docs/css/props.html" class="sidebar-link">å±æ€§</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ¸²æŸ“ä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/browser/chapter1.html" class="sidebar-link">æ¸²æŸ“ä¼˜åŒ–</a></li><li><a href="/docs/browser/chapter2.html" class="sidebar-link">å›æµä¸é‡ç»˜</a></li><li><a href="/docs/browser/chapter3.html" class="sidebar-link">ä½¿ç”¨ fastdom è§£å†³å¸ƒå±€æŠ–åŠ¨</a></li><li><a href="/docs/browser/chapter4.html" class="sidebar-link">å¤åˆçº¿ç¨‹ä¸å›¾å±‚</a></li><li><a href="/docs/browser/chapter5.html" class="sidebar-link">é¿å…é‡ç»˜</a></li><li><a href="/docs/browser/chapter6.html" class="sidebar-link">é«˜é¢‘äº‹ä»¶é˜²æŠ–</a></li><li><a href="/docs/browser/chapter7.html" class="sidebar-link">React æ—¶é—´è°ƒåº¦çš„å®ç°</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML&amp;CSSä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/htmlOptimization/chapter1.html" class="sidebar-link">HTML &amp; CSS</a></li><li><a href="/docs/htmlOptimization/chapter2.html" class="sidebar-link">CSS contain</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä»£ç ä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/jsOptimization/chapter1.html" class="sidebar-link">ç¼©çŸ­ JS è§£ææ—¶é—´</a></li><li><a href="/docs/jsOptimization/chapter2.html" class="sidebar-link">é…åˆ V8 æœ‰æ•ˆä¼˜åŒ–ä»£ç </a></li><li><a href="/docs/jsOptimization/chapter3.html" class="sidebar-link">å‡½æ•°ä¼˜åŒ–</a></li><li><a href="/docs/jsOptimization/chapter4.html" class="sidebar-link">å¯¹è±¡ä¼˜åŒ–</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>èµ„æºå‹ç¼©</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/sourcelOptimization/chapter1.html" class="sidebar-link">å›¾ç‰‡åŠ è½½ä¼˜åŒ–</a></li><li><a href="/docs/sourcelOptimization/chapter2.html" class="sidebar-link">å­—ä½“ä¼˜åŒ–</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpackä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/webpack/chapter1.html" class="sidebar-link">webpack ä¼˜åŒ–é…ç½®</a></li><li><a href="/docs/webpack/chapter2.html" class="sidebar-link">ä¾èµ–ä¼˜åŒ–</a></li><li><a href="/docs/webpack/chapter3.html" class="sidebar-link">Code Splitting</a></li><li><a href="/docs/webpack/chapter4.html" class="sidebar-link">èµ„æºå‹ç¼©</a></li><li><a href="/docs/webpack/chapter5.html" class="sidebar-link">Webpack ç¼“å­˜</a></li><li><a href="/docs/webpack/chapter6.html" class="sidebar-link">webpack æ€§èƒ½æ£€æµ‹å’Œåˆ†æå·¥å…·</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä¼ è¾“åŠ è½½ä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/transmission/chapter1.html" class="sidebar-link">å¯ç”¨å‹ç¼© GZIP</a></li><li><a href="/docs/transmission/chapter2.html" class="sidebar-link">å¯ç”¨ Keep Alive</a></li><li><a href="/docs/transmission/chapter3.html" class="sidebar-link">HTTP èµ„æºç¼“å­˜</a></li><li><a href="/docs/transmission/chapter4.html" class="sidebar-link">Service Workers</a></li><li><a href="/docs/transmission/chapter5.html" class="sidebar-link">HTTP2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/object.html" class="sidebar-link">Object å±æ€§å®šä¹‰</a></li><li><a href="/docs/js/offset.html" class="sidebar-link">offset ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/client.html" class="sidebar-link">client ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/scroll.html" class="sidebar-link">scroll ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/page.html" class="sidebar-link">page ç›¸å…³å±æ€§</a></li><li><a href="/docs/js/bodyOffset.html" class="sidebar-link">è®¡ç®—å…ƒç´ è·ç¦» body çš„åç§»é‡</a></li><li><a href="/docs/js/getSize.html" class="sidebar-link">è·å–éšè—å…ƒç´ å®½é«˜å€¼</a></li><li><a href="/docs/js/jwt.html" class="sidebar-link">jwt</a></li><li><a href="/docs/js/notification.html" class="sidebar-link">Notification</a></li><li><a href="/docs/js/getBoundingClientRect.html" class="sidebar-link">Element.getBoundingClientRect</a></li><li><a href="/docs/js/draggable.html" class="sidebar-link">draggable HTML æ‹–æ‹½</a></li><li><a href="/docs/js/getImgSize.html" class="sidebar-link">è·å–å›¾ç‰‡åŸå§‹å°ºå¯¸</a></li><li><a href="/docs/js/node.html" class="sidebar-link">NodeType å…ƒç´ èŠ‚ç‚¹å±æ€§</a></li><li><a href="/docs/js/fade.html" class="sidebar-link">JS å®ç° JQ-fadeIn,fadeout</a></li><li><a href="/docs/js/location.html" class="sidebar-link">URL-location å¯¹è±¡</a></li><li><a href="/docs/js/decode.html" class="sidebar-link">URL è§£ç å’Œç¼–ç </a></li><li><a href="/docs/js/loadingImg.html" class="sidebar-link">æ¸è¿›å¼çš„å›¾ç‰‡æ‡’åŠ è½½$</a></li><li><a href="/docs/js/urlSearchParams.html" class="sidebar-link">urlSearchParams</a></li><li><a href="/docs/js/getComputedStyle.html" class="sidebar-link">Window.getComputedStyle</a></li><li><a href="/docs/js/videoToImg.html" class="sidebar-link">ä¸Šä¼ è§†é¢‘ç”Ÿæˆç¼©ç•¥å›¾ï¼Œä¸Šä¼ å›¾ç‰‡ç”Ÿæˆç¼©ç•¥å›¾</a></li><li><a href="/docs/js/cloneDeep.html" class="sidebar-link">ç®€æ˜“æ·±æ‹·è´+å¯¹è±¡åˆå¹¶</a></li><li><a href="/docs/js/promise.html" class="sidebar-link">Promise é›¶ç¢çŸ¥è¯†ç‚¹</a></li><li><a href="/docs/js/bind.html" class="sidebar-link">bind å‡½æ•°ä¼ å‚</a></li><li><a href="/docs/js/modules.html" class="sidebar-link">ESMå’ŒCJSåŒºåˆ«</a></li><li><a href="/docs/js/eventLoop.html" class="sidebar-link">EventLoop</a></li><li><a href="/docs/js/requestAnimationFrame.html" class="sidebar-link">requestAnimationFrame &amp; requestIdleCallback</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>çº¢å®ä¹¦</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/redbook/function.html" class="sidebar-link">Function ç±»å‹</a></li><li><a href="/docs/redbook/designMode.html" class="sidebar-link">è®¾è®¡æ¨¡å¼</a></li><li><a href="/docs/redbook/packingType.html" class="sidebar-link">åŸºæœ¬åŒ…è£…ç±»å‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>web socket</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/socket/pubNabVue.html" class="sidebar-link">pubnub-vue</a></li><li><a href="/docs/socket/hello.html" class="sidebar-link">Demo</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>nodejs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/nodejs/base.html" class="sidebar-link">åŸºç¡€</a></li><li><a href="/docs/nodejs/zip.html" class="sidebar-link">å‹ç¼©æ–‡ä»¶</a></li><li><a href="/docs/nodejs/unZip.html" class="sidebar-link">è§£å‹</a></li><li><a href="/docs/nodejs/inspect.html" class="sidebar-link">inspect åè®®</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>perfect</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/performance/target.html" class="sidebar-link">æ€§èƒ½æŒ‡æ ‡å’Œä¼˜åŒ–ç›®æ ‡</a></li><li><a href="/docs/performance/RAIL.html" class="sidebar-link">RAILæµ‹é‡æ ‡å‡†</a></li><li><a href="/docs/performance/webPageTest.html" class="sidebar-link">WebPageTest</a></li><li><a href="/docs/performance/lightHouse.html" class="sidebar-link">LightHouseåˆ†æé¡µé¢æ€§èƒ½</a></li><li><a href="/docs/performance/apis.html" class="sidebar-link">å¸¸ç”¨æ€§èƒ½æµ‹é‡API</a></li><li><a href="/docs/performance/Rendering.html" class="sidebar-link">æ¸²æŸ“ä¼˜åŒ–</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>koa</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/koa/core.html" class="sidebar-link">ç®€å•å®ç° koa æ ¸å¿ƒåŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vue/defineReactive.html" class="sidebar-link">å“åº”å¼å¯¹è±¡</a></li><li><a href="/docs/vue/$nextTick.html" class="sidebar-link">\$nextTick</a></li><li><a href="/docs/vue-source/chapter1.html" class="sidebar-link">New Vue å‘ç”Ÿäº†ä»€ä¹ˆ</a></li><li><a href="/docs/vue-source/chapter2.html" class="sidebar-link">Vue å®ä¾‹æŒ‚è½½å®ç°</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vue3/chapter1.html" class="sidebar-link">ref &amp; reactive</a></li><li><a href="/docs/vue3/chapter2.html" class="sidebar-link">æ–°å¢</a></li><li><a href="/docs/vue3/chapter3.html" class="sidebar-link">v-model</a></li><li><a href="/docs/vue3/chapter4.html" aria-current="page" class="active sidebar-link">vuex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/vue3/chapter4.html#mapstate" class="sidebar-link">MapState</a></li><li class="sidebar-sub-header"><a href="/docs/vue3/chapter4.html#ç»“åˆ-ts" class="sidebar-link">ç»“åˆ TS</a></li><li class="sidebar-sub-header"><a href="/docs/vue3/chapter4.html#getters-ä¸­ä½¿ç”¨å‚æ•°" class="sidebar-link">Getters ä¸­ä½¿ç”¨å‚æ•°</a></li></ul></li><li><a href="/docs/vue3/chapter5.html" class="sidebar-link">axios</a></li><li><a href="/docs/vue-source/chapter3.html" class="sidebar-link">Vue3 reactive æºç </a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h1> <blockquote><p>é¦–å…ˆ vuex4 ç‰ˆæœ¬å¯¹äº<code>ts</code>çš„æ”¯æŒæˆ‘è®¤ä¸ºä»ç„¶æ˜¯ä¸å¤Ÿå¥½ï¼Œä½†æ˜¯å¥½æ¶ˆæ¯æ˜¯åœ¨å°†æ¥çš„<code>vuex5</code>ç‰ˆæœ¬å¼€å‘äººå‘˜å·²ç»å°†<code>ts</code>é‡æ–°é€‚é…æä¸Šæ—¥ç¨‹å¹¶ä¸”å·²ç»åœ¨å¼€å‘é˜¶æ®µäº†ã€‚</p></blockquote> <h2 id="mapstate"><a href="#mapstate" class="header-anchor">#</a> MapState</h2> <p><code>compositionApi</code>ä¸­å°è£…<code>MapState</code>ï¼ŒåŒç†è¿˜å¯ä»¥å°è£…<code>mapAction</code>,<code>mapMutations</code>,<code>mapGetters</code>ã€‚</p> <p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¸ç»å¸¸ç›´æ¥åœ¨æ ¹ state åˆ›å»ºå˜é‡ï¼Œæ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬æƒ³åˆ°äº† module çš„æ–¹å¼ï¼Œåœ¨ store ç›®å½•ä¸‹é¢åˆ›å»º modules ç›®å½•,åœ¨ modules ç›®å½•ä¸‹é¢åˆ›å»º home å’Œ about ä¸¤ä¸ªç›®å½•ï¼Œåˆ†åˆ«åˆ›å»º state å¹¶å¯¼å‡º</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// store/modules/home.index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">HomeState</span> <span class="token punctuation">{</span>
  homeInfo<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> HomeState <span class="token operator">=</span> <span class="token punctuation">{</span>
  homeInfo<span class="token operator">:</span> <span class="token string">&quot;info from home state model&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// store/modules/about.index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AboutState</span> <span class="token punctuation">{</span>
  aboutInfo<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> AboutState <span class="token operator">=</span> <span class="token punctuation">{</span>
  aboutInfo<span class="token operator">:</span> <span class="token string">&quot;info from about state model&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æˆ‘ä»¬åœ¨ modules ç›®å½•ä¸‹é¢å†åˆ›å»ºä¸€ä¸ª index.ts,å°†è¿™äº› module ä¸€èµ·åˆå¹¶å¯¼å‡º</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// store/modules/index.ts</span>
<span class="token keyword">import</span> home <span class="token keyword">from</span> <span class="token string">&quot;./home&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> about <span class="token keyword">from</span> <span class="token string">&quot;./about&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">{</span>
  home<span class="token punctuation">,</span>
  about<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;modules&quot;</span><span class="token punctuation">,</span> modules<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> modules<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>æ¥ç€ vuex4 ä¸ºæˆ‘ä»¬æä¾›äº† useStore æ–¹æ³•æ¥è·å– stateã€‚
æˆ‘ä»¬è¯•ç€æ¥ç”¨ä¸€ä¸‹ï¼š</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Vue logo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/logo.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ homeInfo }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&quot;../components/HelloWorld.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&quot;./example.module.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Home&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> homeInfo <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>home<span class="token punctuation">.</span>homeInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      homeInfo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è²Œä¼¼é‡å¤ä»£ç å¾ˆå¤šï¼Œå¯¹ä¸å¯¹ï¼Ÿæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ª hooks æ¥ä»£æ›¿è¿™äº›é‡å¤æ“ä½œ:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useVuexValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">moduleName<span class="token operator">:</span> string<span class="token punctuation">,</span> storeKeys<span class="token operator">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> values<span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> moduleNames <span class="token operator">=</span> moduleName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">useCurry</span><span class="token punctuation">(</span>moduleNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
  storeKeys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">storeKey</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">[</span>storeKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value <span class="token operator">?</span> value <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> values<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useCurry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">moduleNames<span class="token operator">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
  moduleNames<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">moduleName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> state<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useVuexValue<span class="token punctuation">;</span>
</code></pre></div><p>ç„¶åæˆ‘ä»¬å– state å˜é‡çš„æ–¹æ³•å°±å˜æˆäº†:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useVuexValue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../hooks'</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>homeInfo<span class="token punctuation">,</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useVuexValue</span><span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'homeInfo'</span><span class="token punctuation">,</span><span class="token string">'value1'</span><span class="token punctuation">,</span> <span class="token string">'value2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        value1<span class="token punctuation">,</span>
        value2<span class="token punctuation">,</span>
        homeInfo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å‡å¦‚ home module ä¸‹é¢è¿˜æœ‰ detailã€list ç­‰ç­‰å­ moduleï¼Œé‚£æˆ‘ä»¬å–æ•°æ®çš„æ–¹å¼å°±åº”è¯¥æ˜¯:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useVuexValue</span><span class="token punctuation">(</span><span class="token string">'home/detail'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'value1'</span><span class="token punctuation">,</span> <span class="token string">'value2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        value1<span class="token punctuation">,</span>
        value2
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ˜¯ä¸æ˜¯çœ‹ä¸Šå»æœ‰ç‚¹çœ¼ç†Ÿï¼Œå¯¹çš„å°±æ˜¯ç±»ä¼¼äº mapState çš„æ–¹å¼ï¼Œä¸è¿‡æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ–¹å¼ï¼ŒåŒæ ·çš„æ€è·¯ï¼Œå¯ä»¥å°è£…æˆ‘ä»¬è‡ªå·±çš„ mutationã€action ç­‰ã€‚</p> <h2 id="ç»“åˆ-ts"><a href="#ç»“åˆ-ts" class="header-anchor">#</a> ç»“åˆ TS</h2> <p>åœ¨å®šä¹‰æ¯ä¸ª module æ—¶ï¼Œæˆ‘ä»¬éƒ½å£°æ˜äº† interfaceï¼Œæˆ‘ä»¬éƒ½çŸ¥é“è¿™æ˜¯ typescript çš„ç±»å‹å®šä¹‰ã€‚ä½†æ˜¯æˆ‘ä»¬ç”¨åˆ°äº†å—ï¼š</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/644da51557b54a9bbce88fac4d5775ce~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡åœ°å€"></p> <p>çœ‹åˆ°è¿™ä¸ª any å°±çŸ¥é“ï¼Œå’±ä»¬å‹æ ¹æ²¡æ³•é€šè¿‡ typrscript æ¥æ™ºèƒ½åŒ–æç¤ºå’±ä»¬çš„ stateï¼Œé‚£æœ‰æ²¡æœ‰æ–¹æ³•å‘¢ï¼Ÿæ ¹æ®ä¸Šé¢ ğŸ‘† æˆªå›¾å¯çŸ¥ <code>(property) Store&lt;any&gt;.state: any</code>ï¼Œvuex4 ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>Store&lt;any&gt;.state.any</code>ï¼Œæˆ‘ä»¬æƒ³åŠæ³•æŠŠè¿™ä¸¤ä¸ª any å˜æˆ typescript ç±»å‹å°±è¡Œäº†ã€‚</p> <blockquote><p>ä¸€ä¸ªæ˜¯èŒƒå‹ä¸€ä¸ªæ˜¯è¿”å›</p></blockquote> <p>æŒ‰ç…§å®˜æ–¹çš„æ•™ç¨‹ï¼Œå’±ä»¬å¯ä»¥æŠŠ typecript å’Œ vuex4 ç»“åˆèµ·æ¥ï¼Œé¦–å…ˆæ¥æ”¹é€ ä¸€ä¸‹<code>store/index.ts:</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> InjectionKey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  createStore<span class="token punctuation">,</span>
  createLogger<span class="token punctuation">,</span>
  Store<span class="token punctuation">,</span>
  useStore <span class="token keyword">as</span> baseUseStore<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> modules <span class="token keyword">from</span> <span class="token string">&quot;./modules&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">&quot;../config&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">StateType</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span>Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev<span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">baseUseStore</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><p>é€šè¿‡<code>export const key: InjectionKey&lt;Store&lt;StateType&gt;&gt; = Symbol()</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å’±ä»¬çš„<code>store</code>æ·»åŠ ç±»å‹å®šä¹‰.å¯¹äºè¿™ä¸ª <code>StateType</code>ï¼Œå’±ä»¬å¾—æƒ³åŠæ³•å°†<code>modules</code> ä¸‹é¢çš„<code>homeã€about</code>çš„ç±»å‹å®šä¹‰éƒ½ç»™å›Šæ‹¬è¿›æ¥ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„<code>module</code> ä¸€èˆ¬æ¥è¯´éƒ½æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç›´æ¥åœ¨ index.ts å®šä¹‰<code>StateType</code>ã€‚æˆ‘ä»¬åº”è¯¥æŠŠ StateType çš„å®šä¹‰æŠ½å‡ºæ¥ï¼Œä½œä¸º typesï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ src ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª types ç›®å½•ï¼Œç„¶åæ–°å»ºä¸€ä¸ª index.ts:</p> <blockquote><p>ä¹Ÿå°±æ˜¯æ•´åˆæ‰€æœ‰<code>modules</code>çš„<code>state</code>ç±»å‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„<code>Type</code>åŒ…æ‹¬æ‰€æœ‰å­<code>modules</code>çš„<code>State ç±»å‹</code>ã€‚(VUEX æ ¹ State çš„ç±»å‹)</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// types/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HomeState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/modules/home'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AboutState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/modules/about'</span>

type VuexModuleType <span class="token operator">=</span> <span class="token punctuation">{</span>
	home<span class="token operator">:</span> HomeState
	about<span class="token operator">:</span> AboutState
<span class="token punctuation">}</span>

<span class="token keyword">export</span> type StateType <span class="token operator">=</span> VuexModuleType
</code></pre></div><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠå„ä¸ª<code>module</code>çš„ç±»å‹æ–‡ä»¶éƒ½å¯¼è¿›æ¥äº†ï¼Œç„¶åä¸€èµ·åˆå¹¶å¯¼å‡ºï¼Œåœ¨<code>store/index.ts</code>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±èƒ½å–åˆ°è¿™é‡Œçš„<code>StateType</code>:</p> <p>import { StateType } from '../types'</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span>Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  strict<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev<span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> config<span class="token punctuation">.</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ src ä¸‹é¢æ–°å»ºä¸€ä¸ª vuex.d.ts:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ComponentCustomProperties <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StateType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./types'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

declare module <span class="token string">'@vue/runtime-core'</span> <span class="token punctuation">{</span>
	<span class="token comment">// provide typings for `this.$store`</span>
	<span class="token keyword">interface</span> <span class="token class-name">ComponentCustomProperties</span> <span class="token punctuation">{</span>
		$store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>StateType<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨å°±å‰©æœ€åä¸€æ­¥äº†ï¼Œæˆ‘ä»¬åœ¨ main.ts é‡Œé¢æ‹¿åˆ° store æš´éœ²å‡ºæ¥çš„ key:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store<span class="token punctuation">,</span> <span class="token punctuation">{</span> key <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨storeæ—¶å¸¦ä¸Škey</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥è¯•ä¸€è¯•å‘¢ï¼Ÿ</p> <blockquote><p>æ³¨æ„è°ƒç”¨<code>useStore</code>æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä¼ å…¥<code>store</code>çš„ keyï¼Œæ‰€ä»¥åœ¨<code>store</code>å‡½æ•°ä¸­å°è£…äº†<code>useStore()</code>æ–¹æ³•ï¼Œé—­åŒ…è‡ªå·±è®°ä½äº†<code>key</code>ã€‚
ä¹‹åä½¿ç”¨æ—¶éœ€è¦å¼•å…¥æ¨¡å—å†…çš„<code>useStore()</code>ã€‚</p></blockquote> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/99c89addbca6479a8d6e95e399fed028~tplv-k3u1fbpfcp-zoom-1.image" alt="æˆåŠŸäº†ï¼"></p> <blockquote><p>åœ¨ä½¿ç”¨<code>modules</code>ä½¿å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> testData<span class="token punctuation">,</span> testPosts<span class="token punctuation">,</span> ColumnProps<span class="token punctuation">,</span> PostProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../mock/column&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StateType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../types/index&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Module <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">HomeState</span> <span class="token punctuation">{</span>
  column<span class="token operator">:</span> ColumnProps<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  testPosts<span class="token operator">:</span> PostProps<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¿™é‡Œæ³¨æ„ä¸‹ å…³äº`module`ç›´æ¥ä½¿ç”¨è¿™æ ·çš„å†™æ³• è€Œä¸æ˜¯å•ç‹¬æ‹†å¼€æ¥å†™</span>
<span class="token comment">// å¦åˆ™å°±æ— æ³•è®©TSè¿›è¡Œç±»å‹æ¨æ–­</span>
<span class="token keyword">const</span> module<span class="token operator">:</span> Module<span class="token operator">&lt;</span>HomeState<span class="token punctuation">,</span> StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    column<span class="token operator">:</span> testData<span class="token punctuation">,</span> <span class="token comment">// ä¸“æ </span>
    testPosts<span class="token operator">:</span> testPosts<span class="token punctuation">,</span> <span class="token comment">// åˆ—è¡¨</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> module<span class="token punctuation">;</span>

<span class="token comment">/* TSæ— æ³•æ­£ç¡®è¿›è¡Œç±»å‹æ¨æ–­stateï¼Œå’Œmutationsçš„å‚æ•° ä»¥åŠactionsçš„å‚æ•° éœ€è¦æ‰‹åŠ¨å£°æ˜ç±»å‹ */</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> module<span class="token operator">:</span> Module<span class="token operator">&lt;</span>HomeState<span class="token punctuation">,</span> StateType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>ä¸Šè¿°ç»“åˆ TS æœ‰ä¸ªé—®é¢˜</p> <ol><li><code>module</code>ä¸­åµŒå¥—<code>module</code>çš„è¯ä»ç„¶ä¼šå¯¼è‡´<code>vuex4</code>ç±»å‹æ¨æ–­é”™è¯¯ï¼Œç›®å‰æ¥è¯´ï¼Œæˆ‘ä»¬åªæœ‰å°†å­ module ç»Ÿä¸€æè‡³æ ¹ moduleï¼Œæ„æ€å°±æ˜¯ä¸è¦åœ¨ module é‡Œé¢åµŒå¥— moduleã€‚</li></ol> <blockquote><p>é’ˆå¯¹ä¸Šè¿°è¿™é—®é¢˜ï¼Œç›®å‰éƒ½æå‡ºæ¥å¯¹äº<code>vuex4</code>ç‰ˆæœ¬å¯¹äº<code>ts</code>çš„ä¸å‹å¥½æ€§èƒ½ã€‚
:::</p></blockquote> <h2 id="getters-ä¸­ä½¿ç”¨å‚æ•°"><a href="#getters-ä¸­ä½¿ç”¨å‚æ•°" class="header-anchor">#</a> Getters ä¸­ä½¿ç”¨å‚æ•°</h2> <blockquote><p>You can also pass arguments to getters by returning a function. This is particularly useful when you want to query an array in the store:</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>getters<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function-variable function">getTodoById</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span><span class="token function">getTodoById</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; { id: 2, text: '...', done: false }</span>
</code></pre></div><blockquote><p>get ä¸­ä½¿ç”¨å‚æ•°,å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ç„¶åä½¿ç”¨<code>getters</code>ä¼ å‚ã€‚</p></blockquote></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/vue3/chapter3.html" class="prev">
        v-model
      </a></span> <span class="next"><a href="/docs/vue3/chapter5.html">
        axios
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.5ecceec0.js" defer></script><script src="/docs/assets/js/2.f0b9337b.js" defer></script><script src="/docs/assets/js/103.a0f463ea.js" defer></script>
  </body>
</html>
